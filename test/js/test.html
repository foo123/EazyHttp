<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Test</title>
</head>
<body>
<h1>Test</h1>
<h2>Open console</h2>
<form id="form" action="/test.php" method="post" enctype="application/x-www-form-urlencoded" onsubmit="return do_request(this);">
  <fieldset>
    <p>foo: <input type="text" name="foo[0]" value="bar" /></p>
    <p><input type="submit" value="Submit" /> </p>
  </fieldset>
</form>
<script type="text/javascript" src="./EazyHttp.js"></script>
<script>
function do_request(form, uri)
{
    (new EazyHttp()).option('methods',['fetch']).post('http://localhost:9000/test.php', new FormData(form), {}, [{'name' : 'cookie', 'value' : 'value'}]).then((response) => console.log(JSON.stringify(response)));
    (new EazyHttp()).option('methods',['xhr']).post('http://localhost:9000/test.php', {'foo':['bar']}, {}, [{'name' : 'cookie', 'value' : 'value'}]).then((response) => console.log(JSON.stringify(response)));
    return false;
}
</script>
</body>
</html>